{
	"f_icon":"icon-app-mkoa-billin",
	"f_i_authority_maps":
	{
		"classpath":"authoritymap",
		"data":
		[
			"mkOfficeUse.docOfficeUseBillIn.any-any-any",
			"mkOfficeUse.docOfficeUseBillIn.stDraft-any-any",
			"mkOfficeUse.docOfficeUseBillIn.stNew-any-any"
		]
	},
	"f_panels":
	{
		"classpath":"panel",
		"data":
		[
			{
				"f_type":0,
				"f_icon":"icon-sys-info",
				"f_order":1,
				"f_i_tableform":
				{
					"classpath":"tableform",
					"data":"mkOfficeUse.T_MK_APP_OFFICEUSE_BILL.frmBill"
				},
				"f_custom_script":"form.getForm().findField(\"F_TYPE\").on('aftersetvalue', function(){\n\tvar tb = panel.document.getBottomToolbar().items;\n\tvar btnin;\n\tvar btnout;\n\tfor (var i=0; i<tb.length; i++) {\n\t\tif (tb.items[i].text == '入库') {\n\t\t\tbtnin = tb.items[i];\n\t\t} else if (tb.items[i].text == '出库') {\n\t\t\tbtnout = tb.items[i];\n\t\t}\n\t}\n\tif (form.getForm().findField(\"F_TYPE\").getValue() == '办公用品出库单') {\n\t\tif(btnin){\n\t\t\tbtnin.hide();\n\t\t}\n\t} else {\n\t\tif(btnout){\n\t\t\tbtnout.hide();\n\t\t}\n\t}\n});",
				"f_name":"pOfficeUseBill",
				"f_caption":"入库单",
				"f_key":"pOfficeUseBill",
				"f_class":"panel",
				"f_i_parent":
				{
					"classpath":"document",
					"data":"mkOfficeUse.docOfficeUseBillIn"
				}
			},
			{
				"f_type":3,
				"f_icon":"icon-sys-list",
				"f_order":2,
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_order":1,
							"f_default":false,
							"f_handler":"function(){\npanel.addRecord();\n}",
							"f_name":"btnAdd",
							"f_caption":"添加",
							"f_key":"btnAdd",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"panel",
								"data":"mkOfficeUse.docOfficeUseBillIn.pDetail"
							}
						},
						{
							"f_order":2,
							"f_default":false,
							"f_handler":"function(){\npanel.removeRecord();\n}",
							"f_name":"btnDelete",
							"f_caption":"删除",
							"f_key":"btnDelete",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"panel",
								"data":"mkOfficeUse.docOfficeUseBillIn.pDetail"
							}
						},
						{
							"f_order":3,
							"f_default":false,
							"f_handler":"function(){\npanel.moveUp();\n}",
							"f_name":"btnMoveUp",
							"f_caption":"上移",
							"f_key":"btnMoveUp",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"panel",
								"data":"mkOfficeUse.docOfficeUseBillIn.pDetail"
							}
						},
						{
							"f_order":4,
							"f_default":false,
							"f_handler":"function(){\npanel.moveDown();\n}",
							"f_name":"btnMoveDown",
							"f_caption":"下移",
							"f_key":"btnMoveDown",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"panel",
								"data":"mkOfficeUse.docOfficeUseBillIn.pDetail"
							}
						}
					]
				},
				"f_i_tableform":
				{
					"classpath":"tableform",
					"data":"mkOfficeUse.T_MK_APP_OFFICEUSE_BILL_DETAIL.frmDetail"
				},
				"f_i_view":
				{
					"classpath":"view",
					"data":"mkOfficeUse.qDetail.vDetail"
				},
				"f_custom_script":"roweditor.on('afteredit', function(rd, changes){\n    var store = rd.grid.getStore();\n    var cm = rd.grid.colModel;\n\n\tvar field = cm.getColumnById('F_NAME').editor.field;\n\n\tif(field){\n\t\tvar records = field.viewpanel.getRecords();\n\t\tif (records && records.length > 0) {\n\t\t\tvar record = records[0];\n\t\t\trd.record.set('F_TYPE',record.get('F_TYPE'));\n\t\t\trd.record.set('F_CONFIG',record.get('F_CONFIG'));\n\t\t\trd.record.set('F_UNIT',record.get('F_UNIT'));\n\t\t\trd.record.set('F_DIC_ID',record.get('ID'));\n\t\t\trd.record.set('F_NAME',record.get('F_NAME'));\n\t\t}\n\t}\n        return true;\n});",
				"f_name":"pDetail",
				"f_caption":"采购明细",
				"f_key":"pDetail",
				"f_config":
				{
					"documentidParamName":"F_BILL_ID"
				},
				"f_class":"panel",
				"f_i_parent":
				{
					"classpath":"document",
					"data":"mkOfficeUse.docOfficeUseBillIn"
				}
			}
		]
	},
	"f_buttons":
	{
		"classpath":"action",
		"data":
		[
			{
				"f_icon":"icon-app-mkoa-usein",
				"f_order":5,
				"f_default":false,
				"f_handler":"function(){\n\tvar panel = this.document.items.get(0);\n\tvar form = panel.items.get(0).getForm();\n\tform.findField(\"F_STATE\").setValue(\"完成\");\n\tthis.document.confirmDocument();\n}",
				"f_name":"btnIn",
				"f_caption":"入库",
				"f_key":"btnIn",
				"f_class":"action",
				"f_i_parent":
				{
					"classpath":"document",
					"data":"mkOfficeUse.docOfficeUseBillIn"
				}
			}
		]
	},
	"f_i_table":
	{
		"classpath":"table",
		"data":"mkOfficeUse.T_MK_APP_OFFICEUSE_BILL"
	},
	"f_states":
	{
		"classpath":"state",
		"data":
		[
			{
				"f_operator":0,
				"f_name":"stDraft",
				"f_caption":"草稿",
				"f_key":"stDraft",
				"f_class":"state",
				"f_i_parent":
				{
					"classpath":"document",
					"data":"mkOfficeUse.docOfficeUseBillIn"
				}
			},
			{
				"f_operator":0,
				"f_name":"stOver",
				"f_caption":"完成",
				"f_key":"stOver",
				"f_class":"state",
				"f_i_parent":
				{
					"classpath":"document",
					"data":"mkOfficeUse.docOfficeUseBillIn"
				}
			},
			{
				"f_operator":0,
				"f_name":"stNew",
				"f_caption":"新建",
				"f_key":"stNew",
				"f_class":"state",
				"f_i_parent":
				{
					"classpath":"document",
					"data":"mkOfficeUse.docOfficeUseBillIn"
				}
			}
		]
	},
	"f_name":"docOfficeUseBillIn",
	"f_caption":"办公用品入库单",
	"f_key":"docOfficeUseBillIn",
	"f_class":"document",
	"f_i_parent":
	{
		"classpath":"module",
		"data":"mkOfficeUse"
	}
}