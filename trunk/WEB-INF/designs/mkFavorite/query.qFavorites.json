{
	"f_where":"F_USER_ID = |userid|",
	"f_from":"T_MK_APP_FAVORITE",
	"f_views":
	{
		"classpath":"view",
		"data":
		[
			{
				"f_icon":"icon-app-mkoa-favorite",
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_order":1,
							"f_default":true,
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar key = records[0].get('F_SOURCE_KEY');\n\t\tvar param = records[0].get('F_SOURCE_PARAM');\n\t\tMixky.app.common.openFavorite(key, param);\n\t}\n}",
							"f_name":"btnOpen",
							"f_caption":"打开收藏项",
							"f_key":"btnOpen",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_order":3,
							"f_default":false,
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar id = records[0].get('ID');\n\t\tMixkyApp.desktop.openDocument('mkFavorite.docFavorite', id);\n\t}\n}",
							"f_name":"btnEdit",
							"f_caption":"属性设置",
							"f_key":"btnEdit",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_order":2,
							"f_default":false,
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar id = parseInt(records[0].get('ID'));\n\t\tvar store = grid.getStore();\n\n\t\tExt.MessageBox.confirm('操作提示', '移除收藏项【' + records[0].get('F_TITLE') + '】，您确定吗？', function(btn){\n\t\t\tif(btn == 'yes'){\n\t\t\t\tFavoriteAppDirect.removeFavorite(id, function(result, e){\n\t\t\t\t\tif(result && result.success){\n\t\t\t\t\t\tstore.reload();\n\t\t\t\t\t}else{\n    \t\t\t\t\t\tMixkyApp.showErrorMessage('移除收藏项操作失败!', '错误提示');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t}\n}",
							"f_name":"btnDelete",
							"f_caption":"移除收藏项",
							"f_key":"btnDelete",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						}
					]
				},
				"f_columns":
				{
					"classpath":"column",
					"data":
					[
						{
							"f_type":0,
							"f_order":1,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"ID",
							"f_caption":"ID",
							"f_key":"ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":0,
							"f_order":2,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_SOURCE_KEY",
							"f_caption":"F_SOURCE_KEY",
							"f_key":"F_SOURCE_KEY",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":1,
							"f_order":3,
							"f_width":"80",
							"f_query_type":1,
							"f_orderable":true,
							"f_name":"F_SOURCE_NAME",
							"f_caption":"来源",
							"f_key":"F_SOURCE_NAME",
							"f_config":
							{
								"renderer":"function(value,m,record){\n        var srckey = record.get('F_SOURCE_KEY');\n\tvar dt = Mixky.app.DocumentTypes[srckey];\n\treturn String.format(\"<div style='padding-left:23px;background:transparent no-repeat' class='{1}'>{0}</div>\", value, dt.icon);\n}"
							},
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":1,
							"f_order":4,
							"f_width":"250",
							"f_query_type":1,
							"f_orderable":true,
							"f_name":"F_TITLE",
							"f_caption":"标题",
							"f_key":"F_TITLE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":1,
							"f_order":5,
							"f_width":"150",
							"f_query_type":1,
							"f_orderable":false,
							"f_name":"F_TAGS",
							"f_caption":"标签",
							"f_key":"F_TAGS",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":1,
							"f_order":6,
							"f_query_type":1,
							"f_orderable":false,
							"f_name":"F_NOTE",
							"f_caption":"备注",
							"f_key":"F_NOTE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":6,
							"f_order":7,
							"f_width":"100",
							"f_query_type":3,
							"f_orderable":true,
							"f_name":"F_CREATE_TIME",
							"f_caption":"收藏时间",
							"f_key":"F_CREATE_TIME",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_type":0,
							"f_order":8,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_SOURCE_PARAM",
							"f_caption":"F_SOURCE_PARAM",
							"f_key":"F_SOURCE_PARAM",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						}
					]
				},
				"f_keycolumn":"ID",
				"f_single_select":true,
				"f_page_size":30,
				"f_isquery":true,
				"f_issummary":false,
				"f_autoexpandcolumn":"F_NOTE",
				"f_enable_favorite":false,
				"f_i_documenttype":
				{
					"classpath":"documenttype",
					"data":"mkFavorite.dtFavorite"
				},
				"f_title_field":"F_TITLE",
				"f_parameters":
				{
					"classpath":"viewparameter",
					"data":
					[
						{
							"f_sql":"F_TAGS like '%|value|%'",
							"f_nullsql":"F_TAGS IS NULL",
							"f_name":"F_TAG",
							"f_caption":"vpTag",
							"f_key":"vpTag",
							"f_class":"viewparameter",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_sql":"F_SOURCE_NAME = '|value|'",
							"f_nullsql":"F_SOURCE_NAME IS NULL",
							"f_name":"F_SOURCE_NAME",
							"f_caption":"vpModuleName",
							"f_key":"vpModuleName",
							"f_class":"viewparameter",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_sql":"F_SOURCE_KEY = '|value|'",
							"f_nullsql":"F_SOURCE_KEY IS NULL",
							"f_name":"F_SOURCE_KEY",
							"f_caption":"vpKey",
							"f_key":"vpKey",
							"f_class":"viewparameter",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						},
						{
							"f_sql":"'|value|' like MK_CONCAT('%', F_SOURCE_NAME, '%')",
							"f_nullsql":"F_SOURCE_NAME IS NULL",
							"f_name":"vpMultiModule",
							"f_caption":"vpMultiModule",
							"f_key":"vpMultiModule",
							"f_class":"viewparameter",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vFavorites"
							}
						}
					]
				},
				"f_name":"vFavorites",
				"f_caption":"我的收藏夹",
				"f_key":"vFavorites",
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkFavorite.qFavorites"
				}
			},
			{
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_order":1,
							"f_default":true,
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar key = records[0].get('F_SOURCE_KEY');\n\t\tvar param = records[0].get('F_SOURCE_PARAM');\n\t\tMixky.app.common.openFavorite(key, param);\n\t}\n}",
							"f_name":"btnOpen",
							"f_caption":"打开收藏项",
							"f_key":"btnOpen",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vRecentFavorites"
							}
						}
					]
				},
				"f_columns":
				{
					"classpath":"column",
					"data":
					[
						{
							"f_type":0,
							"f_order":1,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"ID",
							"f_caption":"ID",
							"f_key":"ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vRecentFavorites"
							}
						},
						{
							"f_type":0,
							"f_order":2,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_SOURCE_KEY",
							"f_caption":"F_SOURCE_KEY",
							"f_key":"F_SOURCE_KEY",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vRecentFavorites"
							}
						},
						{
							"f_type":1,
							"f_order":4,
							"f_width":"80",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_SOURCE_NAME",
							"f_caption":"来源",
							"f_key":"F_SOURCE_NAME",
							"f_config":
							{
								"renderer":"function(value,m,record){\n        var srckey = record.get('F_SOURCE_KEY');\n\tvar dt = Mixky.app.DocumentTypes[srckey];\n\treturn String.format(\"<div style='padding-left:23px;background:transparent no-repeat' class='{1}'>{0}</div>\", value, dt.icon);\n}"
							},
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vRecentFavorites"
							}
						},
						{
							"f_type":1,
							"f_order":5,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_TITLE",
							"f_caption":"标题",
							"f_key":"F_TITLE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vRecentFavorites"
							}
						},
						{
							"f_type":0,
							"f_order":3,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_SOURCE_PARAM",
							"f_caption":"F_SOURCE_PARAM",
							"f_key":"F_SOURCE_PARAM",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkFavorite.qFavorites.vRecentFavorites"
							}
						}
					]
				},
				"f_keycolumn":"ID",
				"f_single_select":true,
				"f_page_size":10,
				"f_isquery":false,
				"f_issummary":false,
				"f_autoexpandcolumn":"F_TITLE",
				"f_enable_favorite":false,
				"f_name":"vRecentFavorites",
				"f_caption":"vRecentFavorites",
				"f_key":"vRecentFavorites",
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkFavorite.qFavorites"
				}
			}
		]
	},
	"f_orderby":"F_CREATE_TIME DESC",
	"f_groups":
	{
		"classpath":"group",
		"data":
		[
			{
				"f_type":0,
				"f_items":
				{
					"classpath":"group",
					"data":
					[
						{
							"f_type":1,
							"f_items":
							{
								"classpath":"group",
								"data":
								[
									{
										"f_type":2,
										"f_field":"F_SOURCE_NAME",
										"f_name":"F_SOURCE_NAME",
										"f_caption":"gBySource",
										"f_key":"gBySource",
										"f_class":"group",
										"f_i_parent":
										{
											"classpath":"group",
											"data":"mkFavorite.qFavorites.gRoot.gBySourceStatic"
										}
									}
								]
							},
							"f_name":"gBySourceStatic",
							"f_caption":"按来源分组",
							"f_key":"gBySourceStatic",
							"f_class":"group",
							"f_i_parent":
							{
								"classpath":"group",
								"data":"mkFavorite.qFavorites.gRoot"
							}
						},
						{
							"f_type":99,
							"f_name":"gByTag",
							"f_caption":"gByTag",
							"f_key":"gByTag",
							"f_config":
							{
								"customtype":111
							},
							"f_class":"group",
							"f_i_parent":
							{
								"classpath":"group",
								"data":"mkFavorite.qFavorites.gRoot"
							}
						}
					]
				},
				"f_name":"gRoot",
				"f_caption":"gRoot",
				"f_key":"gRoot",
				"f_class":"group",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkFavorite.qFavorites"
				}
			}
		]
	},
	"f_name":"qFavorites",
	"f_caption":"qFavorites",
	"f_key":"qFavorites",
	"f_class":"query",
	"f_i_parent":
	{
		"classpath":"module",
		"data":"mkFavorite"
	}
}