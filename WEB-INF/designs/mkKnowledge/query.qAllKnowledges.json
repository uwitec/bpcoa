{
	"f_where":"T_MK_APP_KNOWLEDGE.F_STATE=0",
	"f_from":"T_MK_APP_KNOWLEDGE left outer join T_MK_APP_KNOWLEDGE_TAG_BIND on T_MK_APP_KNOWLEDGE.ID=T_MK_APP_KNOWLEDGE_TAG_BIND.F_KNOWLEDGE_ID",
	"f_views":
	{
		"classpath":"view",
		"data":
		[
			{
				"f_icon":"icon-sys-explorer",
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_icon":"icon-sys-add",
							"f_handler":"function () {\n\tMixkyApp.desktop.openDocument('mkKnowledge.docKnowledgeDetail', 0, {});\n}",
							"f_default":false,
							"f_order":1,
							"f_name":"btnCreate",
							"f_caption":"创建知识",
							"f_key":"btnCreate",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						},
						{
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar id = records[0].get('ID');\n\t\t\n\t\tvar modulePanel = MixkyApp.desktop.openModule('mkKnowledge');\n\t\tvar urlPanel  = modulePanel.openView('mkKnowledge.qAllKnowledges.vKnowledgeDetail');\n\t\tif(urlPanel){\n\t\t\tif(urlPanel.refresh){\n\t\t\t\turlPanel.refresh({id: id});\n\t\t\t}else{\n\t\t\t\turlPanel.initParams = {id: id};\n\t\t\t}\n\t\t}\n\t\t\n\t\tAppKnowledgeDirect.addViewCount(parseInt(id));\n\t}\n}",
							"f_default":true,
							"f_order":2,
							"f_name":"btnOpen",
							"f_caption":"打开知识",
							"f_key":"btnOpen",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						}
					]
				},
				"f_columns":
				{
					"classpath":"column",
					"data":
					[
						{
							"f_type":0,
							"f_order":1,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"ID",
							"f_caption":"ID",
							"f_key":"ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						},
						{
							"f_type":1,
							"f_order":2,
							"f_query_type":1,
							"f_orderable":false,
							"f_name":"F_TITLE",
							"f_caption":"标题",
							"f_key":"F_TITLE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						},
						{
							"f_type":1,
							"f_order":3,
							"f_width":"120",
							"f_query_type":1,
							"f_orderable":false,
							"f_name":"F_CREATOR_NAME",
							"f_caption":"创建者",
							"f_key":"F_CREATOR_NAME",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						},
						{
							"f_type":6,
							"f_order":4,
							"f_width":"120",
							"f_asname":"F_CREATED",
							"f_query_type":3,
							"f_orderable":false,
							"f_name":"F_CREATED",
							"f_caption":"创建时间",
							"f_key":"F_CREATED",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						},
						{
							"f_type":3,
							"f_order":5,
							"f_width":"60",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_VIEW_COUNT",
							"f_caption":"查看数",
							"f_key":"F_VIEW_COUNT",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						}
					]
				},
				"f_keycolumn":"ID",
				"f_single_select":true,
				"f_page_size":30,
				"f_isquery":true,
				"f_issummary":false,
				"f_autoexpandcolumn":"F_TITLE",
				"f_enable_favorite":true,
				"f_i_documenttype":
				{
					"classpath":"documenttype",
					"data":"mkKnowledge.dtKnowledge"
				},
				"f_title_field":"F_TITLE",
				"f_parameters":
				{
					"classpath":"viewparameter",
					"data":
					[
						{
							"f_sql":"T_MK_APP_KNOWLEDGE_TAG_BIND.F_TAG_ID=|value|",
							"f_nullsql":"T_MK_APP_KNOWLEDGE.ID  not in (select f_knowledge_id from t_mk_app_knowledge_tag_bind)",
							"f_name":"F_PARENT_ID",
							"f_caption":"标签名称",
							"f_key":"vpTagId",
							"f_class":"viewparameter",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vAllKnowledges"
							}
						}
					]
				},
				"f_name":"vAllKnowledges",
				"f_caption":"浏览知识",
				"f_key":"vAllKnowledges",
				"f_config":
				{
					"params":
					{
						"F_PARENT_ID":""
					}
				},
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkKnowledge.qAllKnowledges"
				}
			},
			{
				"f_icon":"icon-app-mkoa-knowledgedetail",
				"f_url":"app/mkoa/knowledge/knowledge.detail",
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_handler":"function(){\n\t\t\tMixkyApp.desktop.openDocument('mkKnowledge.docKnowledgeDetail', store.baseParams.id);\n\t\t}",
							"f_default":false,
							"f_order":1,
							"f_name":"btnEdit",
							"f_caption":"编辑",
							"f_key":"btnEdit",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vKnowledgeDetail"
							}
						},
						{
							"f_icon":"icon-app-mkoa-forum-replay",
							"f_handler":"function(){\n\t\t\tMixkyApp.desktop.openDocument('mkKnowledge.docComment', 0, {F_KNOWLEDGE_ID:store.baseParams.id});\n\t\t}",
							"f_default":false,
							"f_order":2,
							"f_name":"btnComment",
							"f_caption":"发表评论",
							"f_key":"btnComment",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vKnowledgeDetail"
							}
						},
						{
							"f_handler":"function(){\nif (commentDataView.getSelectedRecords().length > 0) {\n\t\t\t\tExt.Msg.confirm('危险操作提示', '您确定要删除选中的评论么', function(btn) {\n\t\t\t\t\tif (btn == 'yes') {\n\t\t\t\t\t\tvar record = commentDataView.getSelectedRecords()[0];\n\t\t\t\t\t\tAppKnowledgeDirect.deleteComment(record.get('ID'), function(result, e){\n\t\t\t\t\t\t\tpanel.refresh();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tExt.Msg.confirm('信息提示', '请您先选择要删除的评论！');\n\t\t\t}\n}",
							"f_default":false,
							"f_order":3,
							"f_name":"btnDelete",
							"f_caption":"删除评论",
							"f_key":"btnDelete",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vKnowledgeDetail"
							}
						},
						{
							"f_icon":"icon-app-mkoa-good",
							"f_handler":"function(){\n\tAppKnowledgeDirect.topedKnowledge(store.baseParams.id, 1, function(result, event) {\n\t\tif (!result.success) {\n\t\t\tExt.Msg.alert('信息提示', '推荐失败！');\n\t\t} else {\n\t\t\tExt.Msg.alert('信息提示', '推荐完毕！');\n\t\t}\n\t});\n}",
							"f_default":false,
							"f_order":4,
							"f_name":"btnTop",
							"f_caption":"推荐知识",
							"f_key":"btnTop",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vKnowledgeDetail"
							}
						},
						{
							"f_icon":"icon-app-mkoa-forum-top",
							"f_handler":"function(){\n\tAppKnowledgeDirect.topedKnowledge(store.baseParams.id, 0, function(result, event) {\n\t\tif (!result.success) {\n\t\t\tExt.Msg.alert('信息提示', '取消推荐失败！');\n\t\t} else {\n\t\t\tExt.Msg.alert('信息提示', '取消推荐完毕！');\n\t\t}\n\t});\n}",
							"f_default":false,
							"f_order":5,
							"f_name":"btnUnTop",
							"f_caption":"取消推荐",
							"f_key":"btnUnTop",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkKnowledge.qAllKnowledges.vKnowledgeDetail"
							}
						}
					]
				},
				"f_single_select":false,
				"f_page_size":0,
				"f_isquery":false,
				"f_issummary":false,
				"f_enable_favorite":false,
				"f_name":"vKnowledgeDetail",
				"f_caption":"查看知识",
				"f_key":"vKnowledgeDetail",
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkKnowledge.qAllKnowledges"
				}
			},
			{
				"f_icon":"icon-sys-stat",
				"f_url":"app/mkoa/knowledge/knowledge.view",
				"f_single_select":false,
				"f_page_size":0,
				"f_isquery":false,
				"f_issummary":false,
				"f_enable_favorite":false,
				"f_name":"vAllCountKnowledge",
				"f_caption":"知识统计",
				"f_key":"vAllCountKnowledge",
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkKnowledge.qAllKnowledges"
				}
			}
		]
	},
	"f_orderby":"T_MK_APP_KNOWLEDGE.F_CREATED desc",
	"f_groups":
	{
		"classpath":"group",
		"data":
		[
			{
				"f_type":99,
				"f_name":"gAllKnowledges",
				"f_caption":"所有知识分组",
				"f_key":"gAllKnowledges",
				"f_config":
				{
					"customtype":"116"
				},
				"f_class":"group",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkKnowledge.qAllKnowledges"
				}
			}
		]
	},
	"f_name":"qAllKnowledges",
	"f_caption":"所有知识",
	"f_key":"qAllKnowledges",
	"f_class":"query",
	"f_i_parent":
	{
		"classpath":"module",
		"data":"mkKnowledge"
	}
}