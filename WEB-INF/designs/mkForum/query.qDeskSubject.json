{
	"f_where":"F_REPLY_SUBJECT_ID = 0",
	"f_from":"T_MK_APP_FORUM_SUBJECT",
	"f_orderby":"F_UPDATED DESC",
	"f_views":
	{
		"classpath":"view",
		"data":
		[
			{
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_order":1,
							"f_handler":"        function(){\n        \tvar records = grid.getSelectedRecords();\n        \tif(records.length > 0){\n        \t\tvar record = records[0];\n      \t\t\tAppForumDirect.isForumAdmin(parseInt(record.get(\"F_FORUM_ID\")), function(result, e) {\n        \t\tif (result && result.success) {\n        \t\t\tvar modulePanel = MixkyApp.desktop.openModule('mkForum');\n        \t\t\tvar urlPanel  = modulePanel.openView('mkForum.qForumTopic.vForumTopic');\n        \t\t\tif(urlPanel){\n        \t\t\t\tif(urlPanel.refresh){\n        \t\t\t\t\turlPanel.refresh({topicId: parseInt(record.get(\"ID\")), topicTitle: record.get('F_TITLE'), forumId: record.get(\"F_FORUM_ID\"), state: result.state});\n        \t\t\t\t}else{\n        \t\t\t\t\turlPanel.initParams = {topicId: parseInt(record.get(\"ID\")), topicTitle: record.get('F_TITLE'), forumId: record.get(\"F_FORUM_ID\"), state: result.state};\n        \t\t\t}\n        \t\t}\n        \t\tAppForumDirect.addViewCount(record.get(\"ID\") + '');\n        \t}\n        });\n   }\n}",
							"f_default":true,
							"f_name":"btnOpen",
							"f_caption":"打开主题",
							"f_key":"btnOpen",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						}
					]
				},
				"f_columns":
				{
					"classpath":"column",
					"data":
					[
						{
							"f_type":0,
							"f_order":1,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"ID",
							"f_caption":"ID",
							"f_key":"ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":1,
							"f_order":2,
							"f_width":"30",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_SUBJECT_TYPE",
							"f_caption":"",
							"f_key":"F_SUBJECT_TYPE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":1,
							"f_order":3,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_TITLE",
							"f_caption":"标题",
							"f_key":"F_TITLE",
							"f_config":
							{
								"renderer":"function(v, d, r) {\n\treturn String.format('<b>{0}</b><br/><I>by {1} on {2}</I>', v, r.get('F_AUTHOR_TITLE'), r.get('F_CREATED'));\n}"
							},
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":0,
							"f_order":4,
							"f_width":"",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_AUTHOR_TITLE",
							"f_caption":"作者",
							"f_key":"F_AUTHOR_TITLE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":1,
							"f_order":5,
							"f_width":"100",
							"f_asname":"F_REPLY_TIME",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"MK_GETDATETIME(F_REPLY_TIME)",
							"f_caption":"最后回复",
							"f_key":"F_REPLY_TIME",
							"f_config":
							{
								"renderer":"function(v, d, r) {\n\treturn String.format('<I>{0}</I><br/><I>{1}</I>', r.get('F_REPLY_TITLE'), v);\n}"
							},
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":0,
							"f_order":6,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_FORUM_ID",
							"f_caption":"F_FORUM_ID",
							"f_key":"F_FORUM_ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":0,
							"f_order":7,
							"f_asname":"F_CREATED",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"MK_GETDATETIME(F_CREATED)",
							"f_caption":"F_CREATED",
							"f_key":"F_CREATED",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						},
						{
							"f_type":0,
							"f_order":8,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_REPLY_TITLE",
							"f_caption":"F_REPLY_TITLE",
							"f_key":"F_REPLY_TITLE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qDeskSubject.vDeskForumSubject"
							}
						}
					]
				},
				"f_keycolumn":"ID",
				"f_single_select":true,
				"f_page_size":20,
				"f_isquery":false,
				"f_issummary":false,
				"f_autoexpandcolumn":"F_TITLE",
				"f_enable_favorite":false,
				"f_name":"vDeskForumSubject",
				"f_caption":"电子论坛",
				"f_key":"vDeskForumSubject",
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkForum.qDeskSubject"
				}
			}
		]
	},
	"f_name":"qDeskSubject",
	"f_caption":"论坛桌面话题",
	"f_key":"qDeskSubject",
	"f_class":"query",
	"f_i_parent":
	{
		"classpath":"module",
		"data":"mkForum"
	}
}