{
	"f_from":"V_MK_APP_FORUM_CATEGORY",
	"f_views":
	{
		"classpath":"view",
		"data":
		[
			{
				"f_icon":"icon-app-mkoa-forumcategory",
				"f_buttons":
				{
					"classpath":"action",
					"data":
					[
						{
							"f_icon":"icon-sys-add",
							"f_handler":"function(){\n\tMixkyApp.desktop.openDocument('mkForum.docForumCategory');\n}",
							"f_default":false,
							"f_order":2,
							"f_name":"btnAddCategory",
							"f_caption":"创建版块分类",
							"f_key":"btnAddCategory",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_icon":"icon-sys-add",
							"f_handler":"function(){\n\tMixkyApp.desktop.openDocument('mkForum.docForum');\n}",
							"f_default":false,
							"f_order":3,
							"f_name":"btnAddForum",
							"f_caption":"创建版块",
							"f_key":"btnAddForum",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar type = records[0].get('F_TYPE');\n\t\tif(type == 0){\n\t\t\tvar id = records[0].get('F_CATEGORY_ID');\n\t\t\tMixkyApp.desktop.openDocument('mkForum.docForumCategory', id);\n\t\t}else{\n\t\t\tvar id = records[0].get('F_FORUM_ID');\n\t\t\tMixkyApp.desktop.openDocument('mkForum.docForum', id);\n\t\t}\n\t}\n}",
							"f_default":true,
							"f_order":1,
							"f_name":"btnOpen",
							"f_caption":"打开",
							"f_key":"btnOpen",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_handler":"function(){\n\tvar records = grid.getSelectedRecords();\n\tif(records.length > 0){\n\t\tvar type = records[0].get('F_TYPE');\n\t\tif(type == 0){\n\t\t\tvar id = records[0].get('F_CATEGORY_ID');\n\t\t\tvar message = '删除分类【' + records[0].get('F_TITLE') + '】及该分类下所有板块，您确定吗？';\n\t\t\tExt.Msg.confirm('危险操作提示', message, function(btn) {\n\t\t\t\tif (btn == 'yes') {\n\t\t\t\t\tAppForumDirect.delelteCategory(id, function() {\n\t\t\t\t\t\tgrid.getStore().reload();\t\n\t\t\t\t\t});\n\t\t\t\t\tpanel.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tvar id = records[0].get('F_FORUM_ID');\n\t\t\tvar message = '删除板块【' + records[0].get('F_TITLE') + '】您确定吗？';\n\t\t\tExt.Msg.confirm('危险操作提示', message, function(btn) {\n\t\t\t\tif (btn == 'yes') {\n\t\t\t\t\tAppForumDirect.delelteForum(id, function(){\n\t\t\t\t\t\tgrid.getStore().reload();\t\n\t\t\t\t\t});\n\t\t\t\t\tpanel.refresh();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t}\n}",
							"f_default":false,
							"f_order":4,
							"f_name":"btnDelete",
							"f_caption":"删除",
							"f_key":"btnDelete",
							"f_class":"action",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						}
					]
				},
				"f_columns":
				{
					"classpath":"column",
					"data":
					[
						{
							"f_type":0,
							"f_order":1,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"ID",
							"f_caption":"ID",
							"f_key":"ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_type":0,
							"f_order":2,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_TYPE",
							"f_caption":"F_TYPE",
							"f_key":"F_TYPE",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_type":0,
							"f_order":3,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_FORUM_ID",
							"f_caption":"F_FORUM_ID",
							"f_key":"F_FORUM_ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_type":0,
							"f_order":4,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_CATEGORY_ID",
							"f_caption":"F_CATEGORY_ID",
							"f_key":"F_CATEGORY_ID",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_type":1,
							"f_order":5,
							"f_width":"350",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_TITLE",
							"f_caption":"标题",
							"f_key":"F_TITLE",
							"f_config":
							{
								"renderer":"function(v, d, r) {\n\tif(r.get('F_TYPE') == 0){\n\t\treturn String.format(\"<div style='padding-left:23px;background-repeat:no-repeat' class='icon-app-mkoa-forum-forumfolder'> {0}</div>\", v);\n\t}else{\n\t\treturn String.format(\"<div style='padding-left:63px;background-position:40px 0px;background-repeat:no-repeat' class='icon-app-mkoa-forum-forum'> {0}</div>\", v);\n\t}\n}"
							},
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_type":1,
							"f_order":7,
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_COMMENT",
							"f_caption":"说明",
							"f_key":"F_COMMENT",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						},
						{
							"f_type":1,
							"f_order":6,
							"f_width":"80",
							"f_query_type":0,
							"f_orderable":false,
							"f_name":"F_ADMINISTRATORS",
							"f_caption":"版主",
							"f_key":"F_ADMINISTRATORS",
							"f_class":"column",
							"f_i_parent":
							{
								"classpath":"view",
								"data":"mkForum.qForumCategory.vForumCategory"
							}
						}
					]
				},
				"f_keycolumn":"ID",
				"f_single_select":true,
				"f_page_size":0,
				"f_isquery":false,
				"f_issummary":false,
				"f_autoexpandcolumn":"F_COMMENT",
				"f_enable_favorite":false,
				"f_name":"vForumCategory",
				"f_caption":"版块管理",
				"f_key":"vForumCategory",
				"f_class":"view",
				"f_i_parent":
				{
					"classpath":"query",
					"data":"mkForum.qForumCategory"
				}
			}
		]
	},
	"f_orderby":"F_ORDER, F_CATEGORY_ID, F_FORUM_ID",
	"f_name":"qForumCategory",
	"f_caption":"qForumCategory",
	"f_key":"qForumCategory",
	"f_class":"query",
	"f_i_parent":
	{
		"classpath":"module",
		"data":"mkForum"
	}
}