{"f_from":"T_MK_APP_FOLDER A INNER JOIN (SELECT * FROM T_MK_APP_FOLDER WHERE F_TYPE = 0 START WITH F_SHARETYPE > 0 AND MK_AUTH(F_SHAREUSERID, '|userauth|') CONNECT BY PRIOR  ID =  F_PARENTID AND F_SHARETYPE =0) B ON (A.F_TYPE = 1 AND A.F_PARENTID = B.ID)","f_orderby":"A.F_CREATETIME DESC","f_views":{"classpath":"view","data":[{"f_buttons":{"classpath":"action","data":[{"f_order":1,"f_handler":"function(){\nvar record = grid.getSelectionModel().getSelected();\nlocation.href='engine/file/sysdownload.do?documentdbtype=blob&fieldname=F_FILE&documentkey=mkNetFolder.docNetFile&id='+record.get('ID')+'&filename='+record.get('F_FILENAME');\n}","f_default":true,"f_caption":"下载","f_name":"btnDownload","f_class":"action","f_key":"btnDownload","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_icon":"icon-sys-folder","f_order":2,"f_handler":"function(){\nvar record = grid.getSelectionModel().getSelected();\n\n\tvar modulePanel = MixkyApp.desktop.openModule('mkNetFolder');\n\tvar urlPanel  = modulePanel.openView('mkNetFolder.qFolder.vFolder');\n\tif(urlPanel){\n\t\tif(urlPanel.refresh){\n\t\t\turlPanel.refresh({folderId:record.get('F_PARENTID')});\n\t\t}else{\n\t\t\turlPanel.initParams = {folderId:record.get('F_PARENTID')};\n\t\t}\n\t}\n}","f_default":false,"f_caption":"打开所在文件夹","f_name":"btnOpenFolder","f_class":"action","f_key":"btnOpenFolder","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}}]},"f_columns":{"classpath":"column","data":[{"f_type":0,"f_order":1,"f_asname":"ID","f_query_type":0,"f_orderable":false,"f_caption":"ID","f_name":"A.ID","f_class":"column","f_key":"ID","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":1,"f_order":2,"f_asname":"FOLDERNAME","f_query_type":0,"f_orderable":false,"f_width":"80","f_caption":"文件夹","f_config":{"renderer":"function(v, d, r) {\n\treturn String.format('<b>{0}</b><br/><I>{1}</I>', v, r.get('SHAREUSER'));\n}"},"f_name":"B.F_NAME","f_class":"column","f_key":"FOLDERNAME","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":0,"f_order":3,"f_asname":"SHAREUSER","f_query_type":0,"f_orderable":false,"f_caption":"共享用户","f_name":"B.F_USERNAME","f_class":"column","f_key":"SHAREUSER","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":1,"f_order":4,"f_asname":"F_NAME","f_query_type":0,"f_orderable":false,"f_caption":"文件标题","f_config":{"renderer":"function(v, d, r) {\n\treturn String.format('<b><a href=\"engine/file/sysdownload.do?documentdbtype=blob&fieldname=F_FILE&documentkey=mkNetFolder.docNetFile&id={4}&filename={5}\">{0}</a></b><br/><I>by {1} on {2} size {3}</I>', v, r.get('F_USERNAME'), r.get('F_CREATETIME'), r.get('F_SIZE'),r.get('ID'),r.get('F_FILENAME'));\n}"},"f_name":"A.F_NAME","f_class":"column","f_key":"F_NAME","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":0,"f_order":5,"f_asname":"F_USERNAME","f_query_type":0,"f_orderable":false,"f_width":"80","f_caption":"创建者","f_config":{},"f_name":"A.F_USERNAME","f_class":"column","f_key":"F_USERNAME","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":0,"f_order":6,"f_asname":"F_CREATETIME","f_query_type":0,"f_orderable":false,"f_caption":"上传时间","f_name":"MK_GETDATETIME(A.F_CREATETIME)","f_class":"column","f_key":"F_CREATETIME","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":0,"f_order":7,"f_asname":"F_PARENTID","f_query_type":0,"f_orderable":false,"f_caption":"F_PARENTID","f_name":"A.F_PARENTID","f_class":"column","f_key":"F_PARENTID","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":0,"f_order":8,"f_asname":"F_SIZE","f_query_type":0,"f_orderable":false,"f_caption":"F_SIZE","f_name":"A.F_SIZE","f_class":"column","f_key":"F_SIZE","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}},{"f_type":0,"f_order":9,"f_asname":"F_FILENAME","f_query_type":0,"f_orderable":false,"f_caption":"F_FILENAME","f_name":"A.F_FILENAME","f_class":"column","f_key":"F_FILENAME","f_i_parent":{"classpath":"view","data":"mkNetFolder.qFile.vFilesPortlet"}}]},"f_keycolumn":"ID","f_single_select":true,"f_page_size":20,"f_isquery":false,"f_autoexpandcolumn":"F_NAME","f_enable_favorite":false,"f_caption":"vFilesPortlet","f_name":"vFilesPortlet","f_class":"view","f_key":"vFilesPortlet","f_i_parent":{"classpath":"query","data":"mkNetFolder.qFile"}}]},"f_caption":"qFile","f_name":"qFile","f_class":"query","f_key":"qFile","f_i_parent":{"classpath":"module","data":"mkNetFolder"},"f_note":"SELECT B.F_NAME AS FOLDERNAME , B.F_USERNAME AS SHAREUSER, A.*\nFROM T_MK_APP_FOLDER A INNER JOIN (SELECT * FROM T_MK_APP_FOLDER WHERE F_TYPE = 0 START WITH F_SHARETYPE > 0 CONNECT BY PRIOR  ID =  F_PARENTID AND F_SHARETYPE =0) B ON (A.F_TYPE = 1 AND A.F_PARENTID = B.ID)\nORDER BY A.F_CREATETIME DESC"}