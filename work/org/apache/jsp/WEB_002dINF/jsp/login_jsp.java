/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.34
 * Generated at: 2013-02-20 01:32:44 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class login_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

	String applicationName = "";
	String applicationPath = "app/mkoa";
	Object obj = request.getAttribute("applicationName");
	if(obj != null){
		applicationName = String.valueOf(obj);
	}
	// 错误提示
	String errtxt = "";
	if(request.getAttribute("errtxt") != null){
		errtxt = String.valueOf(request.getAttribute("errtxt"));
	}
	// 使用验证码
	obj = request.getAttribute("useICode");
	boolean useICode = true;
	if(obj != null){
		useICode = (Boolean)obj;
	}
	String loginName = "";
	obj = request.getAttribute("loginName");
	if (obj != null) {
		loginName = String.valueOf(obj);
	}

      out.write("\r\n");
      out.write("<html>\r\n");
      out.write("\t<head>\r\n");
      out.write("\t\t<meta http-equiv=\"Content-Type\" content=\"text/html; utf-8\">\r\n");
      out.write("\t\t<title>");
      out.print(applicationName);
      out.write("</title>\r\n");
      out.write("\t\t<style>\r\n");
      out.write("\t\t\ta.browser-site {\r\n");
      out.write("\t\t\t\ttext-decoration: none;\r\n");
      out.write("\t\t\t\tfont-size: 12px;\r\n");
      out.write("\t\t\t\tcolor: #000000;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\ta.browser-site:hover {\r\n");
      out.write("\t\t\t\ttext-decoration: none;\r\n");
      out.write("\t\t\t\tcolor: #2222ff;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\ta.browser-download {\r\n");
      out.write("\t\t\t\ttext-decoration: none;\r\n");
      out.write("\t\t\t\tfont-size: 12px;\r\n");
      out.write("\t\t\t\tcolor: #0D9CB9;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\ta.browser-download:hover {\r\n");
      out.write("\t\t\t\ttext-decoration: none;\r\n");
      out.write("\t\t\t\tcolor: #ff0000;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t</style>\r\n");
      out.write("\t</head>\r\n");
      out.write("\t<body onresize=\"onWindowResize()\" onload=\"onWindowResize();document.loginForm.u.focus();\" style=\"margin:0px;OVERFLOW:hidden;color:#333333;font-size:11px\">\r\n");
      out.write("\t\t<div id='logindiv' style=\"width:1024;height:768;position:relative;display:none\">\r\n");
      out.write("\t\t\t<div style=\"left:0;top:0;width:1024;height:171;background-image:url(resources/images/login/top.jpg);position:relative;\">\r\n");
      out.write("\t\t\t\t<!--标题背景图片-->\r\n");
      out.write("\t\t\t\t<!-- div style=\"color:darkblue;font-size:24px;font-weight:bold;left:60;top:80;width:500;height:50;background-image:url(");
      out.print(applicationPath);
      out.write("/images/login/title.png);background-repeat:no-repeat;position:absolute;\"--><!--/div-->\r\n");
      out.write("\t\t\t\t<div style=\"left:60;top:80;width:500;height:50;position:absolute;color:1A6D98;font-size:30px;font-weight:900;\"><img src=\"resources/images/logo/48.gif\" align=absmiddle> ");
      out.print(applicationName);
      out.write("</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div style=\"left:0;top:172;width:1024;height:303;background-image:url(resources/images/login/middle.jpg);\"></div>\r\n");
      out.write("\t\t\t<div style=\"left:0;top:475;width:1024;height:294;background-image:url(resources/images/login/bottom.jpg);\">\r\n");
      out.write("\t\t\t\t<!--提示和辅助工具-->\r\n");
      out.write("\t\t\t\t<div style=\"position:relative;left:60;top:80;height:120;width:1024;\">\r\n");
      out.write("\t\t\t\t\t<table style=\"color:#333333;font-size:12px\">\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td nowrap>计算机和处理器&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td>P4 2G处理器或更高配置</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td>物理内存</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td>512M以上，推荐1G</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td valign=top>浏览器</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td style=\"line-height:1.5\">支持所有主流浏览器<br>\r\n");
      out.write("\t\t\t\t\t\t\t\t推荐使用<a href=\"http://www.google.com/chrome\" target=_blank class=\"browser-site\">Google Chrome</a><br>\r\n");
      out.write("\t\t\t\t\t\t\t\t本地下载<a href=\"resources/tools/chrome23.exe\" target=_blank class=\"browser-download\">[Chrome 23]</a>\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<td>即时通信客户端</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td>\r\n");
      out.write("\t\t\t\t\t\t\t\t本地下载<a href=\"resources/tools/Mixky-IM2.1.49.1.exe\"  target=_blank class=\"browser-download\">Mixky-IM</a>\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<!--底部分隔条文字区-->\r\n");
      out.write("\t\t\t\t<div style=\"position:relative;left:0;top:94;width:1024;\">\r\n");
      out.write("\t\t\t\t\t<hr style=\"border:1px solid #23648C\">\r\n");
      out.write("\t\t\t\t\t<center><img src='resources/images/login/logo-blue.gif' border=0 height=20 align=\"absmiddle\">&nbsp;&nbsp;Copyright;2009-2013&nbsp;&nbsp;北京创想天空科技有限公司</center>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div style=\"left:512;top:155;width:399;height:386;background-image:url(resources/images/login/login-bg.gif);position:absolute;\">\r\n");
      out.write("\t\t\t\t<form name=loginForm method=\"POST\">\r\n");
      out.write("\t\t\t\t\t<table width=320 style=\"margin-top:40;font-size:14px\" align=center>\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top height=60>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=3><img src=\"resources/images/login/login-title.jpg\" border=0></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top height=50>\r\n");
      out.write("\t\t\t\t\t\t\t<td width=58 style=\"padding-top:3px\">用户名：</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=2><input name=\"u\" type=\"text\" onKeyPress=\"return onKeyPress('u', event)\" maxlength=20 style=\"width:240;color:#7F9DB9;font-size:14px;border:1px solid #7F9DB9\" value=\"");
      out.print(loginName);
      out.write("\"></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top height=50>\r\n");
      out.write("\t\t\t\t\t\t\t<td width=58 style=\"padding-top:3px\">密　码：</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=2><input name=\"p\" type=\"password\" onKeyPress=\"return onKeyPress('p', event)\" maxlength=15 style=\"width:240;color:#7F9DB9;font-size:14px;border:1px solid #7F9DB9\"></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");

	if(useICode){

      out.write("\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top height=40>\r\n");
      out.write("\t\t\t\t\t\t\t<td width=58 style=\"padding-top:3px\">验证码：</td>\r\n");
      out.write("\t\t\t\t\t\t\t<td width=125><input name=\"i\" type=\"text\" onKeyPress=\"return onKeyPress('i', event)\" maxlength=10 style=\"width:120;color:#7F9DB9;font-size:14px;border:1px solid #7F9DB9\"></td>\r\n");
      out.write("\t\t\t\t\t\t\t<td><img align=middle src=\"servlet/icode.img\"></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");

	}

      out.write("\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top height=50>\r\n");
      out.write("\t\t\t\t\t\t\t<td></td>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=2 style=\"font-size:12px\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<!-- input name=\"ki\" type=\"checkbox\" value=1>在此计算机上保留我的信息<br -->\r\n");
      out.write("\t\t\t\t\t\t\t\t<input name=\"ks\" type=\"checkbox\" value=1>下一次自动登录\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top>\r\n");
      out.write("\t\t\t\t\t\t\t<td></td>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=2 style=\"font-size:12px;color:red;\">");
      out.print(errtxt);
      out.write("</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr valign=top>\r\n");
      out.write("\t\t\t\t\t\t\t<td></td>\r\n");
      out.write("\t\t\t\t\t\t\t<td colspan=2>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"image\" name=\"b\" src=\"resources/images/login/login-button.jpg\" value=\"登录\" onClick=\"return doLogin()\">\r\n");
      out.write("\t\t\t\t\t\t\t</td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t\t<tr valign=bottom height=30>\r\n");
      out.write("\t\t\t\t\t\t\t<td></td>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</table>\r\n");
      out.write("\t\t\t\t</form>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</BODY>\r\n");
      out.write("<SCRIPT LANG=\"JAVASCRIPT\">\r\n");
      out.write("\tfunction getWindowSize() {\r\n");
      out.write("\t  var myWidth = 0, myHeight = 0;\r\n");
      out.write("\t  if( typeof( window.innerWidth ) == 'number' ) {\r\n");
      out.write("\t\t//Non-IE\r\n");
      out.write("\t\tmyWidth = window.innerWidth;\r\n");
      out.write("\t\tmyHeight = window.innerHeight;\r\n");
      out.write("\t  } else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {\r\n");
      out.write("\t\t//IE 6+ in 'standards compliant mode'\r\n");
      out.write("\t\tmyWidth = document.documentElement.clientWidth;\r\n");
      out.write("\t\tmyHeight = document.documentElement.clientHeight;\r\n");
      out.write("\t  } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {\r\n");
      out.write("\t\t//IE 4 compatible\r\n");
      out.write("\t\tmyWidth = document.body.clientWidth;\r\n");
      out.write("\t\tmyHeight = document.body.clientHeight;\r\n");
      out.write("\t  }\r\n");
      out.write("\t  return {width:myWidth, height:myHeight};\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction onWindowResize(){\r\n");
      out.write("\t\tvar size = getWindowSize();\r\n");
      out.write("\t\tvar login = document.getElementById('logindiv');\r\n");
      out.write("\t\tlogin.style.top = (size.height - 768) / 2;\r\n");
      out.write("\t\tlogin.style.left = (size.width - 1024) / 2;\r\n");
      out.write("\t\tlogin.style.display = '';\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction showAlert(msg){\r\n");
      out.write("\t\talert(msg);\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction validate(){\r\n");
      out.write("\t\tif(document.loginForm.u.value == ''){\r\n");
      out.write("\t\t\tshowAlert(\"用户名非法：不允许为空\")\r\n");
      out.write("\t\t\tdocument.loginForm.u.focus();\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif(document.loginForm.p.value == ''){\r\n");
      out.write("\t\t\tshowAlert(\"密码非法：不允许为空\")\r\n");
      out.write("\t\t\tdocument.loginForm.p.focus();\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");

	if(useICode){

      out.write("\r\n");
      out.write("\t\tif(document.loginForm.i.value == ''){\r\n");
      out.write("\t\t\tshowAlert(\"验证码非法：不允许为空\")\r\n");
      out.write("\t\t\tdocument.loginForm.i.focus();\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");

	}

      out.write("\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction doLogin(){\r\n");
      out.write("\t\tif(!validate()){\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tdocument.loginForm.submit();\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tfunction onKeyPress(name, event){\r\n");
      out.write("\t\tif(event.keyCode != 13){\r\n");
      out.write("\t\t\treturn true;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif(name == \"u\"){\r\n");
      out.write("\t\t\tdocument.loginForm.p.focus();\r\n");
      out.write("\t\t}else if(name == \"p\"){\r\n");

			if(useICode){

      out.write("\r\n");
      out.write("\t\t\t\tdocument.loginForm.i.focus();\r\n");

			}else{

      out.write("\r\n");
      out.write("\t\t\t\treturn doLogin();\r\n");

			}

      out.write("\r\n");
      out.write("\t\t}else if(name == \"i\"){\r\n");
      out.write("\t\t\treturn doLogin();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\treturn false;\r\n");
      out.write("\t}\r\n");
      out.write("</SCRIPT>\r\n");
      out.write("</HTML>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
